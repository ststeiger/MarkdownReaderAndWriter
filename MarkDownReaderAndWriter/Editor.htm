<!doctype html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>Markdown Editor (Github Flavour)</title>
    <link rel="stylesheet" href="Scripts/CodeMirror/codemirror.css" />
    <!--
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/elegant.css" />
    -->
    
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/mdn.css" />

    <!--
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/3024-day.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/3024-night.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/abcdef.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/ambiance.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/base16-dark.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/base16-light.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/blackboard.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/cobalt.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/colorforth.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/dracula.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/eclipse.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/elegant.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/erlang-dark.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/icecoder.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/lesser-dark.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/liquibyte.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/material.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/mbo.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/mdn-like.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/midnight.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/monokai.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/neat.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/neo.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/night.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/paraiso-dark.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/paraiso-light.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/pastel-on-dark.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/rubyblue.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/seti.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/solarized.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/the-matrix.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/tomorrow-night-bright.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/tomorrow-night-eighties.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/ttcn.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/twilight.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/vibrant-ink.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/xq-dark.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/xq-light.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/yeti.css" />
    <link rel="stylesheet" href="Scripts/CodeMirror/theme/zenburn.css" />
    -->


    <script src="Scripts/CodeMirror/codemirror.js"></script>
    <script src="Scripts/CodeMirror/addon/selection/active-line.js"></script>
    <script src="Scripts/CodeMirror/addon/edit/matchbrackets.js"></script>
    
    <script src="Scripts/CodeMirror/addon/edit/continuelist.js"></script>
    <script src="Scripts/CodeMirror/addon/mode/overlay.js"></script><!-- GFM -->
    
    <script src="Scripts/CodeMirror/modes/xml/xml.js"></script>
    <script src="Scripts/CodeMirror/modes/markdown/markdown.js"></script>




    <script src="Scripts/CodeMirror/modes/gfm/gfm.js"></script><!-- GFM -->
    <script src="Scripts/CodeMirror/modes/javascript/javascript.js"></script><!-- GFM -->
    <script src="Scripts/CodeMirror/modes/css/css.js"></script><!-- GFM -->
    <script src="Scripts/CodeMirror/modes/htmlmixed/htmlmixed.js"></script><!-- GFM -->
    <script src="Scripts/CodeMirror/modes/clike/clike.js"></script><!-- GFM -->
    <script src="Scripts/CodeMirror/modes/meta.js"></script><!-- GFM -->




    <!--
    <link rel="stylesheet" href="Scripts/CodeMirror/docs.css">
    -->
    <style type="text/css" media="all">

        html, body
        {
            width: 100%; height: 100%;
            margin: 0px; padding: 0px;
            overflow:auto
        }
        

        #wrapper
        {
            display: block;
            width: calc(100% - 10mm);
            height: calc(95%- 10mm);
            margin: 5mm;
        }

        .CodeMirror
        {
            border: 1px solid #999;
            background: #ffc;
        }

        .breakpoints
        {
            width: .8em;
        }

        .breakpoint
        {
            color: #822;
        }

    </style>
</head>
<body>
    <div id="wrapper">
    <textarea id="code" name="code"></textarea>
    <div style="height: 3mm;"></div>
        <input type="button" onclick="GoIDE.getText();" value="Get text" />
    </div>


    <script type="text/javascript">

		function cGoIDE(ele)
		{
			if (typeof ele === 'string' || ele instanceof String)
				ele = document.getElementById(ele);

    		var thisInstance = {
	    		editor : null

	    		,getText: function()
	    		{
	    			return thisInstance.editor.getTextArea().value;
	    		}

	    		,setSize: function(width, height)
	    		{
	    			thisInstance.editor.setSize(width, height);
		        }


                // For BreakPoint
		        ,makeMarker: function() 
		        {
		            var marker = document.createElement("div");
		            marker.style.color = "#822";
		            marker.innerHTML = "●";
		            return marker;
		        }

	    		,createEditor: function ()
	    		{
					var edit = CodeMirror.fromTextArea(ele, {
						//theme: "elegant",
					    theme: "mdn",
					    gutters: ["CodeMirror-linenumbers", "breakpoints"],
					    extraKeys: {"Enter": "newlineAndIndentContinueMarkdownList"},
					    lineNumbers: true,
					    styleActiveLine: true,
						matchBrackets: true,
						indentUnit: 8,
						tabSize: 8,
						indentWithTabs: true,
					    //mode: "text/x-go"
						//mode: "markdown"
					    mode: "gfm"
					});

					edit.on("gutterClick", function(cm, n) {
					    var info = cm.lineInfo(n);
					    cm.setGutterMarker(n, "breakpoints", info.gutterMarkers ? null : thisInstance.makeMarker());
					});



					edit.setSize("100%", "100%");

					return edit;
	    		}

	    	};

    		thisInstance.editor = thisInstance.createEditor();

    		return thisInstance;
    	}

    	var GoIDE = new cGoIDE("code");
      	// GoIDE.setSize("50%", "100%");
    </script>
  </body>
</html>
